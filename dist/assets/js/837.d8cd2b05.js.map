{"version":3,"file":"assets/js/837.d8cd2b05.js","mappings":"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","sources":["webpack://minigames/./src/components/mineSweeper.vue","webpack://minigames/src/components/mineSweeper.vue","webpack://minigames/./src/components/mineSweeper.vue?203a","webpack://minigames/./src/components/mineSweeper.vue?4211"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"bigBox\"},[_c('div',{attrs:{\"id\":\"controls\"}},[_c('form',[_c('label',{attrs:{\"for\":\"level\"}},[_vm._v(\"难度级别：\")]),_c('select',{attrs:{\"id\":\"level\"}},[_c('option',{attrs:{\"value\":\"easy\"}},[_vm._v(\"简单\")]),_c('option',{attrs:{\"value\":\"medium\"}},[_vm._v(\"中等\")]),_c('option',{attrs:{\"value\":\"hard\"}},[_vm._v(\"困难\")])]),_c('button',{attrs:{\"id\":\"reset\"}},[_vm._v(\"重新开始\")])])]),_c('table',{attrs:{\"id\":\"board\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bigBox\">\r\n    <div id=\"controls\">\r\n      <form>\r\n        <label for=\"level\">难度级别：</label>\r\n        <select id=\"level\">\r\n          <option value=\"easy\">简单</option>\r\n          <option value=\"medium\">中等</option>\r\n          <option value=\"hard\">困难</option>\r\n        </select>\r\n        <button id=\"reset\">重新开始</button>\r\n      </form>\r\n    </div>\r\n    <table id=\"board\"></table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"mineSweeper\",\r\n  data(){\r\n    return{\r\n\r\n    }\r\n  },\r\n  methods(){\r\n    // 游戏参数配置\r\n    const config = {\r\n      easy: {\r\n        rows: 8,\r\n        cols: 8,\r\n        mines: 10,\r\n      },\r\n      medium: {\r\n        rows: 10,\r\n        cols: 10,\r\n        mines: 20,\r\n      },\r\n      hard: {\r\n        rows: 12,\r\n        cols: 12,\r\n        mines: 30,\r\n      }\r\n    };\r\n    // 初始化游戏\r\n    let board = document.getElementById(\"board\");\r\n    let level = document.getElementById(\"level\");\r\n    let reset = document.getElementById(\"reset\");\r\n\r\n    let cells = [];\r\n    let gameOver = false;\r\n    let minesLeft = 0;\r\n    let minesCount = 0;\r\n    let rows, cols, mines;\r\n\r\n    reset.addEventListener(\"click\", init);\r\n    level.addEventListener(\"change\", function () {\r\n      init();\r\n    });\r\n\r\n    // 初始化函数\r\n    function init() {\r\n      // 初始化参数\r\n      let levelConfig = config[level.value];\r\n      rows = levelConfig.rows;\r\n      cols = levelConfig.cols;\r\n      mines = levelConfig.mines;\r\n      minesLeft = mines;\r\n      minesCount = 0;\r\n      gameOver = false;\r\n\r\n      // 游戏初始化布局\r\n      board.innerHTML = \"\";\r\n      cells = [];\r\n      for (let i = 0; i < rows; i++) {\r\n        let row = [];\r\n        let tr = document.createElement(\"tr\");\r\n        for (let j = 0; j < cols; j++) {\r\n          let td = document.createElement(\"td\");\r\n          let button = document.createElement(\"button\");\r\n          button.addEventListener(\"click\", function () {\r\n            if (!gameOver) {\r\n              clickCell(i, j);\r\n            }\r\n          });\r\n          td.appendChild(button);\r\n          tr.appendChild(td);\r\n          row.push({button: button, hasMine: false, revealed: false});\r\n        }\r\n\r\n        cells.push(row);\r\n        board.appendChild(tr);\r\n      }\r\n\r\n      // 初始化地雷\r\n      for (let i = 0; i < mines; i++) {\r\n        let row, col;\r\n        do {\r\n          row = Math.floor(Math.random() * rows);\r\n          col = Math.floor(Math.random() * cols);\r\n        } while (cells[row][col].hasMine);\r\n        cells[row][col].hasMine = true;\r\n      }\r\n\r\n      //更新地雷数目\r\n      updateMinesCount();\r\n\r\n    }\r\n\r\n    function clickCell(row, col) {\r\n      let cell = cells[row][col];\r\n\r\n      if (cell.revealed) {\r\n        return;\r\n      }\r\n      if (cell.hasMine) {\r\n        revealMines();\r\n        showGameOver(false);\r\n        return;\r\n      }\r\n      cell.revealed = true;\r\n      cell.button.style.backgroundColor = \"#ddd\";\r\n      let minesAround = countMinesAround(row, col);\r\n      if (minesAround > 0) {\r\n        cell.button.textContent = minesAround;\r\n\r\n      } else {\r\n        revealNeighbors(row, col);\r\n      }\r\n\r\n      if (checkWin()) {\r\n        showGameOver(true);\r\n      }\r\n    }\r\n\r\n    // 揭露没有地雷的邻居\r\n    function revealNeighbors(row, col) {\r\n      for (let i = row - 1; i <= row + 1; i++) {\r\n        for (let j = col - 1; j <= col + 1; j++) {\r\n          if (i >= 0 && i < rows && j >= 0 && j < cols && !(i === row && j === col)) {\r\n            clickCell(i, j);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // 统计周围的地雷\r\n    function countMinesAround(row, col) {\r\n      let count = 0;\r\n      for (let i = row - 1; i <= row + 1; i++) {\r\n        for (let j = col - 1; j <= col + 1; j++) {\r\n          if (i >= 0 && i < rows && j >= 0 && j < cols && cells[i][j].hasMine) {\r\n            count++;\r\n          }\r\n        }\r\n      }\r\n      return count;\r\n    }\r\n\r\n    // 揭露地雷\r\n    function revealMines() {\r\n      for (let i = 0; i < rows; i++) {\r\n        for (let j = 0; j < cols; j++) {\r\n          if (cells[i][j].hasMine) {\r\n            cells[i][j].button.style.backgroundColor = \"#f00\";\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // 更新地雷数量\r\n    function updateMinesCount() {\r\n      console.log(\"这是哈哈\", minesLeft);\r\n    }\r\n\r\n    // 展示结果\r\n    function showGameOver(win) {\r\n      gameOver = true;\r\n      let message = win ? \"You Win\" : \"You Lose\";\r\n      alert(message);\r\n    }\r\n\r\n    // 赢\r\n    function checkWin() {\r\n      for (let i = 0; i < rows; i++) {\r\n        for (let j = 0; j < cols; j++) {\r\n          let cell = cells[i][j];\r\n          if (!cell.hasMine && !cell.revealed) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    init();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.bigBox {\r\n  background-color: rgb(163, 159, 159);\r\n  width: 40%;\r\n  margin: 5% auto;\r\n  text-align: center;\r\n  padding: 20px;\r\n}\r\n\r\n#reset {\r\n  width: 100px;\r\n  font-size: 15px;\r\n}\r\n\r\ntable {\r\n  border-collapse: collapse;\r\n  margin: 30px auto;\r\n}\r\n\r\ntd {\r\n  width: 30px;\r\n  height: 30px;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n  border: 1px solid #ccc;\r\n}\r\n\r\nbutton {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0;\r\n  margin: 0;\r\n  font-size: 16px;\r\n  color: #FFF;\r\n  background-color: #333;\r\n  border: none;\r\n}\r\n\r\n#controls {\r\n  margin-top: 20px;\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./mineSweeper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./mineSweeper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mineSweeper.vue?vue&type=template&id=b78db90c&\"\nimport script from \"./mineSweeper.vue?vue&type=script&lang=js&\"\nexport * from \"./mineSweeper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mineSweeper.vue?vue&type=style&index=0&id=b78db90c&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_self","_c","_m","staticRenderFns","staticClass","attrs","_v","name","data","methods","config","easy","rows","cols","mines","medium","hard","board","document","getElementById","level","reset","cells","gameOver","minesLeft","minesCount","init","levelConfig","value","innerHTML","i","row","tr","createElement","j","td","button","addEventListener","clickCell","appendChild","push","hasMine","revealed","col","Math","floor","random","updateMinesCount","cell","revealMines","showGameOver","style","backgroundColor","minesAround","countMinesAround","textContent","revealNeighbors","checkWin","count","console","log","win","message","alert","component"],"sourceRoot":""}